<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>📋 Monitoring Induksi</title>
  <link rel="stylesheet" href="style.css" />
<!-- Chart.js v3.9.1 -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>

<!-- Chart.js Plugin Datalabels v2.0.0 -->
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0/dist/chartjs-plugin-datalabels.min.js"></script>

<!-- Audio Notifikasi - Hanya satu instance -->
<audio id="notif-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-alert-bells-echo-765.mp3" preload="auto"></audio>

</head>
<body>

  <header class="minimal-header">
  <h1>SITE PT. GANDA ALAM MAKMUR</h1>
   <audio id="intro-audio" src="sounds/intro.mp3" preload="auto"></audio>

    <!-- Splash Screen -->
  <div class="splash-screen">
    <div class="splash-logo">🚀</div>
    <p class="splash-text">Memuat Aplikasi...</p>
  </div>

  <nav class="navbar fade-in">
      <a href="index.html" class="nav-button">
        <i class="fas fa-lightbulb"></i>
        INDUKSI
      </a>
      <a href="pelatihan.html" class="nav-button">
        <i class="fas fa-chalkboard-teacher"></i>
        PELATIHAN
      </a>
  </nav>


</header>


  <div class="container">

    <h1>📋 Monitoring Induksi, SPDK, CHECKLISTK, KELENGKAPAN MINE PERMIT</h1>
    <div class="loader" id="loader"></div>

    <!-- 🧭 Navigasi Tab -->
      <div class="tabs">
        <!-- Tombol tab dengan data-tab untuk identifikasi JavaScript -->
        <button class="tab-btn active" data-tab="newhire">📄 Approval Induksi - Permit</button>
        <!-- Hanya satu tab yang harus memiliki kelas 'active' di awal -->
        <button class="tab-btn" data-tab="pendaftaran">📄 Pendaftaran</button>

        <!-- Grup collapsible -->
        <div class="tab-group-collapsible">
          <!-- Tombol toggle grup dengan data-group-id -->
          <button class="tab-group-toggle" id="toggle-induksi" data-group-id="induksi-group">📘 Proses Induksi ▾</button>
          <div id="induksi-group" class="tab-subgroup">
            <button class="tab-btn" data-tab="checklist_induksi">✅ Checklist</button>
            <button class="tab-btn" data-tab="hasil_induksi">📘 Induksi</button>
            <button class="tab-btn" data-tab="spdk">📝 SPDK</button>
            <button class="tab-btn" data-tab="remidial">📊 REMIDIAL</button>
          </div>
        </div>
        <button class="tab-btn" data-tab="grafik">📈 Grafik</button>
      </div>


    <!-- 🔎 Konten Tab -->

    <div id="newhire" class="tab-content active">
      <div class="filter-container">
        <label>🏢</label>
        <select id="filter-newhire"></select>
        <label>📅</label>
        <input type="date" id="startDate-newhire" />
        <span>s.d.</span>
        <input type="date" id="endDate-newhire" />
        <label>🔍</label>
        <input type="text" id="search-newhire" placeholder="Cari nama..." />
      </div>

      <div class="table-wrapper">
        <table id="table-newhire"></table>
      </div>
    </div>

    <!-- Hapus kelas 'active' dari sini, karena 'newhire' sudah active -->
    <div id="pendaftaran" class="tab-content">
      <div class="filter-container">
        <label>🏢</label>
        <select id="filter-pendaftaran"></select>
        <label>📅</label>
        <input type="date" id="startDate-pendaftaran" />
        <span>s.d.</span>
        <input type="date" id="endDate-pendaftaran" />
        <label>🔍</label>
        <input type="text" id="search-pendaftaran" placeholder="Cari nama..." />
      </div>
      <div class="table-wrapper">
        <table id="table-pendaftaran"></table>
      </div>
    </div>

    <div id="spdk" class="tab-content">
      <div class="filter-container">
        <label>🏢</label>
        <select id="filter-spdk"></select>
        <label>📅</label>
        <input type="date" id="startDate-spdk" />
        <span>s.d.</span>
        <input type="date" id="endDate-spdk" />
        <label>🔍</label>
        <input type="text" id="search-spdk" placeholder="Cari nama..." />
      </div>
      <div class="table-wrapper">
        <table id="table-spdk"></table>
      </div>
    </div>

    <div id="checklist_induksi" class="tab-content">
      <div class="filter-container">
        <label>🏢</label>
        <select id="filter-checklist_induksi"></select>
        <label>📅</label>
        <input type="date" id="startDate-checklist_induksi" />
        <span>s.d.</span>
        <input type="date" id="endDate-checklist_induksi" />
        <label>🔍</label>
        <input type="text" id="search-checklist_induksi" placeholder="Cari nama..." />
      </div>
      <div class="table-wrapper">
        <table id="table-checklist_induksi"></table>
      </div>
    </div>

    <div id="hasil_induksi" class="tab-content">
      <div class="filter-container">
        <label>🏢</label>
        <select id="filter-hasil_induksi"></select>
        <label>📅</label>
        <input type="date" id="startDate-hasil_induksi" />
        <span>s.d.</span>
        <input type="date" id="endDate-hasil_induksi" />
        <label>🔍</label>
        <input type="text" id="search-hasil_induksi" placeholder="Cari nama..." />
      </div>
      <div class="table-wrapper">
        <table id="table-hasil_induksi"></table>
      </div>
    </div>

    <div id="remidial" class="tab-content">
      <h1>SCORE MINIMAL 75</h1>
      <div class="filter-container">
        <label>🏢</label>
        <select id="filter-remidial"></select>
        <label>📅</label>
        <input type="date" id="startDate-remidial" />
        <span>s.d.</span>
        <input type="date" id="endDate-remidial" />
        <label>🔍</label>
        <input type="text" id="search-remidial" placeholder="Cari nama..." />
      </div>
      <div class="table-wrapper">
        <table id="table-remidial"></table>
      </div>
    </div>

    <!-- 📈 Tab Grafik -->
    <div id="grafik" class="tab-content">
      <canvas id="chartScore1"></canvas>  <!-- Grafik Cuti & New Hire -->
      <canvas id="chartScore2"></canvas>  <!-- Grafik SCORE_TERTINGGI & SCORE_TERENDAH -->
      <!-- Pastikan ada canvas untuk chartScore jika digunakan di script.js -->
      <canvas id="chartScore"></canvas>
    </div>

  </div>



  <footer class="minimal-footer">
  <p>© 2025 Induksi Monitoring. All rights reserved.</p>
  <p>AHMAD FAQIH I</p>
  <p>HSE - TRAINING PROMOTION & SYSTEM DEVELOPMENT</p>
</footer>


<!-- Floating WhatsApp Icon -->
<div class="whatsapp-float" id="open-wa-form">
  <img src="https://img.icons8.com/color/48/whatsapp--v1.png" alt="WhatsApp" />
</div>

<!-- Pop-up Form -->
<div id="wa-form-popup" class="wa-popup hidden">
  <label>👤 Nama:</label>
  <input type="text" id="wa-nama" placeholder="Masukkan nama Anda" />
  <label>❓ Pertanyaan:</label>
  <textarea id="wa-pesan" placeholder="Tulis pertanyaan Anda..."></textarea>
  <button id="kirim-wa-btn">💬 Kirim via WhatsApp</button>
  <button id="close-wa-form" class="close-btn">X</button>
</div>

<!-- 🔻 Banner Modern -->
<div id="safety-banner" class="safety-banner">
  <div class="banner-container">
    <span class="banner-icon">📢</span>
    <div id="banner-text" class="banner-text">
      Selalu gunakan APD saat bekerja • Jaga jarak aman • Utamakan keselamatan kerja • Laporkan potensi bahaya ke supervisor •
    </div>
  </div>
</div>



  <!-- 🔔 Alert Keselamatan -->
  <div id="safety-alert" class="safety-toast hidden">
    <img src="https://img.icons8.com/emoji/48/warning-emoji.png" alt="Warning Icon" />
    <div class="safety-message">
      ⚠️ Pesan keselamatan akan muncul di sini.
    </div>
  </div>

  <!-- Script utama aplikasi -->
  <script src="script.js" defer></script>
</body>
</html>
